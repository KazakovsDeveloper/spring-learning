Hibernate:

    create table authors (
       id bigint generated by default as identity,
        name varchar(255),
        primary key (id)
    )
Hibernate:

    create table books (
       id bigint generated by default as identity,
        title varchar(255),
        author_id bigint,
        genre_id bigint,
        primary key (id)
    )
Hibernate:

    create table books_comments (
       book_id bigint not null,
        comments_id bigint not null
    )
Hibernate:

    create table comments (
       id bigint generated by default as identity,
        comment varchar(255),
        book_id bigint,
        primary key (id)
    )
Hibernate:

    create table generes (
       id bigint generated by default as identity,
        name varchar(255),
        primary key (id)
    )
Hibernate:

    alter table books_comments
       add constraint UK_3odoeetwfl5noqbrp3wwvffcl unique (comments_id)
Hibernate:

    alter table books
       add constraint FKfjixh2vym2cvfj3ufxj91jem7
       foreign key (author_id)
       references authors
Hibernate:

    alter table books
       add constraint FK8k4ntytdgmha9ixb6lo1c139w
       foreign key (genre_id)
       references generes
Hibernate:

    alter table books_comments
       add constraint FK91847cp16ggotba9x8d3omdps
       foreign key (comments_id)
       references comments
Hibernate:

    alter table books_comments
       add constraint FK84hr92qei224ck9nphdxhcg6t
       foreign key (book_id)
       references books
Hibernate:

    alter table comments
       add constraint FK1ey8gegnanvybix5a025vepf4
       foreign key (book_id)
       references books